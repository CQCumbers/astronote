- TODO
  - Add visual indicator for autosaving - bad idea, too fast
  - Better filename display
  - Get moving files under files working
  - Turn folders back into files
  - Rebuild cache option
  - Search within page
  - Internal links to other notes?
  - git integration?
  - Change add/delete/modify note to context menu
  - Add react split pane
  - Improve link recognition (internal/external)
  - External links mean outside of lowest .astro folder - cache file:// links as well
  - Internal links means sharing lowest parent .astro folder - directly move to note in this case.
  - Add create new .astro menu option
  - Change app icon
  - Get it working on windows, share with Trevor
  - Setup distribution system?
- Evernote with auto archiving features, file-system based data format
- In UI:
  - Note tree with all notes in note directory, and collapsable subnotes
    - Support drag and drop for notes to subnotes, support adding and deleting notes
    - Show children of current note and all supernotes
    - Seperate edit and view tabs, switching to view incrementally rebuilds notebook, edit mode only available for markdown files
    - Config variables in YAML front matter (whether to cache links, render latex, ocr, render todo completion, allow executable code, compress, ignore specific links for caching, etc.)
    - Config variables are inherited from supernotes, exporting notes makes all config variables explicit
  - Also optional tree for cache of webpages/external (meaning outside of notebook) links in general
  Within the notes directory:
  - .md file is a note
  - folder with index.md file is a note with subnotes (other .md files or other folders with index.md)
  - On startup, check all .md files for web links and cache them if not already cached ("update cache" button to refresh existing cached)
    - Do not replace link in .md file, only in rendered html
    - If web link is to html page, cache linked images as well
    - For internal filesystem links outside notes or cache directories, replace .md file link with link to one in cache
  - Use KaTeX to render latex in notes, allow executable code like ipython, collapsable headers, embed pdfs, videos, audio, etc., OCR images, use pie charts for checklist completion
  - Clicking link to file should show file in tree
  - On change to filesystem, convert folders with only an index.md (no subnotes) to standalone note
  - Folders ending in .astro are seperate notebooks, nested notebooks allowed
    - Cached resources are cached in closest (lowest in hierarchy) .astro directory
    - notebooks have an index.md, notes, and `_cache` directory for cached 
    - If already in lower level cache, remove from higher level cache
    - Share by renaming note to .astro, which changes it to directory with cache and moves cached links from higher directory to that directory, and to reduce file size can delete websites in `_cache` as long as index.md in cache remains
    - Renaming .astro to regular remove `_cache` and moves cached resources up to next higher .astro
  - Saving only saves if file is older than most recent edit; otherwise show conflicts
- In cache directory:
  - seperate folders for websites, cache links to non-html resources (js, images, etc.)
  - Root note is autogenerated list of links to cached webpages
    - webpage is h1, tags are h2, description is markdown text until next linked h1 followed by h2, include starring, marking as read, etc., specifying what pages are cached
    - Allow recursive cached webpages, whole site is only included once.
    - Browser extension to automatically add to this root page, special UI in app
    - Links in notes find cached website by searching for url in page, if not existing create one with autogenerated name (note name:link text), no tags, blank description
    - When adding stuff remove duplicate links
    - Configure what is downloaded via DOWNLOAD tag, incorporate tools for autotagging items with filter
    - Notes can also configure what linked resources are tagged with
- Implementation
  - Metalsmith-style plugin system - first reorganize directories, then bookmark external links, then cache bookmarks, etc.
  - Maybe even use metalsmith for everything but UI. Make sure to use metalsmith-incremental for fast builds
  - Maybe use PEGJS for parsing webpage list? Or not necessary
  - Maybe use telescopy for webpage downloads?
